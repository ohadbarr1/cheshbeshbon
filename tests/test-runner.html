<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>חשבשבון — בדיקות יחידה</title>
    <style>
        body { font-family: 'Heebo', sans-serif; background: #06060b; color: #f0f0f8; padding: 2rem; direction: rtl; }
        h1 { margin-bottom: 1rem; }
        .pass { color: #34d399; }
        .fail { color: #f87171; }
        .result { padding: 0.3rem 0; font-size: 0.9rem; }
        .summary { margin-top: 1rem; padding: 1rem; border-radius: 8px; font-weight: bold; }
        .summary.all-pass { background: rgba(52, 211, 153, 0.1); border: 1px solid rgba(52, 211, 153, 0.3); }
        .summary.has-fail { background: rgba(248, 113, 113, 0.1); border: 1px solid rgba(248, 113, 113, 0.3); }
    </style>
</head>
<body>
    <h1>בדיקות יחידה — חשבשבון</h1>
    <div id="results"></div>
    <div id="summary"></div>

    <!-- Load app modules (they use global objects, no DOM needed for calculation funcs) -->
    <!-- Stub DOM-dependent objects -->
    <script>
        // Minimal stubs for modules that reference DOM/other modules
        const ChartManager = {
            formatCurrency: (v) => '₪' + Math.round(v).toLocaleString('he-IL'),
            colors: {}, animateNumbers: () => {}
        };
        const Insights = { generate: () => [], renderHTML: () => '' };
        const ShareManager = { share: () => {} };
        const Scenarios = { renderSaveButton: () => '', init: () => {}, renderAll: () => {} };
        const PDFExport = { renderButton: () => '' };
        const Premium = { init: () => {} };
        const Router = { init: () => {}, navigate: () => {}, goToCalculator: () => {} };
        const Validation = { validateInput: (id, opts) => null, clearErrors: () => {} };
    </script>
    <script src="../js/mortgage.js"></script>
    <script src="../js/salary.js"></script>
    <script src="../js/rent-vs-buy.js"></script>
    <script src="../js/pension.js"></script>
    <script src="tests.js"></script>
</body>
</html>
